(this["webpackJsonpvoice-recorder"]=this["webpackJsonpvoice-recorder"]||[]).push([[0],{15:function(e,t,a){},17:function(e,t,a){"use strict";a.r(t);var r,c,s=a(1),n=a.n(s),o=a(8),i=a.n(o),d=(a(15),a(2)),l=a(10),b=a(3),m=a(9),u=a.n(m),j=a(0),x=Object(s.createContext)({}),g=[];function p(e){var t=e.children,a=Object(s.useState)(!0),n=Object(d.a)(a,2),o=n[0],i=n[1],m=Object(s.useState)(!1),p=Object(d.a)(m,2),f=p[0],h=p[1],O=Object(s.useState)(!1),v=Object(d.a)(O,2),y=v[0],k=v[1],N=Object(s.useState)([]),w=Object(d.a)(N,2),R=w[0],S=w[1],C=Object(s.useState)(0),P=Object(d.a)(C,2),z=P[0],M=P[1],T=Object(s.useState)({id:-1,name:"",file:null}),D=Object(d.a)(T,2),L=D[0],_=D[1],A=Object(s.useState)(0),F=Object(d.a)(A,2),E=F[0],I=F[1],U=Object(s.useState)(!1),G=Object(d.a)(U,2),B=G[0],J=G[1],q=Object(s.useState)(""),H=Object(d.a)(q,2),K=H[0],Q=H[1],V=Math.floor(z/3600),W=Math.floor(z/60),X=z%60;return Object(s.useEffect)((function(){f&&(c=setTimeout((function(){M(z+1)}),1e3))}),[f,z]),Object(j.jsx)(x.Provider,{value:{isRecordingAuthorized:o,isRecording:f,isRecordingFinished:y,records:R,hours:V,minutes:W,seconds:X,currentRecord:L,lastId:E,isPlaying:B,currentPlaying:K,startRecording:function(){navigator.mediaDevices&&navigator.mediaDevices.getUserMedia&&navigator.mediaDevices.getUserMedia({audio:!0}).then((function(e){h(!0),(r=new MediaRecorder(e)).start(),r.ondataavailable=function(e){g.push(e.data)}})).catch((function(e){console.error(e),i(!1)}))},stopRecording:function(){r.onstop=function(){var e=new Blob(g,{type:"audio/ogg; codecs=opus"});_(Object(b.a)(Object(b.a)({},L),{},{file:window.URL.createObjectURL(e)})),g=[]},r.stop(),h(!1),k(!0),M(0),clearTimeout(c)},deleteRecord:function(e){var t=R.filter((function(t){return t.id!==e}));S(t)},deleteAllRecords:function(){S([])},setCurrentRecordName:function(e){_(Object(b.a)(Object(b.a)({},L),{},{name:e?"".concat(u()(e,"_"),".mp3"):""}))},saveRecord:function(){S([].concat(Object(l.a)(R),[Object(b.a)(Object(b.a)({},L),{},{id:E+1})])),_({id:-1,name:"",file:null}),I(E+1),k(!1)},cancelSaveRecord:function(){k(!1),_({id:-1,name:"",file:null})},playTheRecord:function(e){J(!0),Q(e)},stopTheRecord:function(){J(!1),Q("")}},children:t})}function f(){var e=Object(s.useContext)(x),t=e.hours,a=e.minutes,r=e.seconds,c=String(t).padStart(2,"0").split(""),n=Object(d.a)(c,2),o=n[0],i=n[1],l=String(a).padStart(2,"0").split(""),b=Object(d.a)(l,2),m=b[0],u=b[1],g=String(r).padStart(2,"0").split(""),p=Object(d.a)(g,2),f=p[0],h=p[1];return Object(j.jsxs)("div",{className:"font-mono font-medium text-text dark:text-gray-50 mb-10 text-4xl",children:[Object(j.jsx)("span",{className:"px-2 py-0.5 shadow-inner rounded-custom mr-1 dark:bg-bg-dark",children:o}),Object(j.jsx)("span",{className:"px-2 py-0.5 shadow-inner rounded-custom mr-1 dark:bg-bg-dark",children:i}),Object(j.jsx)("span",{className:"mr-1",children:":"}),Object(j.jsx)("span",{className:"px-2 py-0.5 shadow-inner rounded-custom mr-1 dark:bg-bg-dark",children:m}),Object(j.jsx)("span",{className:"px-2 py-0.5 shadow-inner rounded-custom mr-1 dark:bg-bg-dark",children:u}),Object(j.jsx)("span",{className:"mr-1",children:":"}),Object(j.jsx)("span",{className:"px-2 py-0.5 shadow-inner rounded-custom mr-1 dark:bg-bg-dark",children:f}),Object(j.jsx)("span",{className:"px-2 py-0.5 shadow-inner rounded-custom mr-1 dark:bg-bg-dark",children:h})]})}var h=a.p+"static/media/close-white.1fcaa42b.svg",O=a.p+"static/media/check.0adf4d33.svg";function v(){var e=Object(s.useContext)(x),t=e.currentRecord,a=e.setCurrentRecordName,r=e.saveRecord,c=e.cancelSaveRecord;return Object(j.jsx)("div",{className:"fixed left-0 top-0 bottom-0 right-0 flex justify-center items-center z-10 bg-text bg-opacity-60 dark:bg-black dark:bg-opacity-50",children:Object(j.jsxs)("div",{className:"w-full max-w-md py-10 px-5 bg-white dark:bg-text rounded-custom shadow-lg lg:mx-0 mx-4",children:[Object(j.jsx)("header",{children:Object(j.jsx)("h3",{className:"uppercase text-text dark:text-gray-50 mb-9 text-2xl font-bold tracking-wider font-serif text-left",children:"Salvar"})}),Object(j.jsx)("main",{className:"mb-11",children:Object(j.jsxs)("div",{className:"w-full relative flex font-mono",children:[Object(j.jsx)("input",{className:"bg-bg w-10/12 shadow-inner rounded-custom rounded-r-none py-3 pl-6 placeholder-gray-300 text-text focus:placeholder-transparent",type:"text",placeholder:"Nome da grava\xe7\xe3o",onInput:function(e){a(e.currentTarget.value)}}),Object(j.jsx)("span",{className:"w-2/12 bg-text dark:bg-gray-400 text-white text-center flex items-center justify-center rounded-custom rounded-l-none",children:".mp3"})]})}),Object(j.jsxs)("footer",{className:"flex justify-center items-center",children:[t.name?Object(j.jsx)("button",{type:"button",className:"bg-button-green rounded-custom p-2 transition-opacity duration-300 hover:opacity-75 mr-6",onClick:r,children:Object(j.jsx)("img",{src:O,alt:"Save"})}):Object(j.jsx)("button",{disabled:!0,type:"button",className:"bg-gray-300 rounded-custom p-2 mr-6 cursor-not-allowed",children:Object(j.jsx)("img",{src:O,alt:"Save"})}),Object(j.jsx)("button",{type:"button",className:"bg-button-red rounded-custom p-2 transition-opacity duration-300 hover:opacity-75",onClick:c,children:Object(j.jsx)("img",{src:h,alt:"Cancel"})})]})]})})}var y=a.p+"static/media/play-circle.0af0b3ef.svg",k=a.p+"static/media/stop.c190fb47.svg";function N(){var e=Object(s.useContext)(x),t=e.isRecordingAuthorized,a=e.isRecording,r=e.isRecordingFinished,c=e.startRecording,n=e.stopRecording;return Object(j.jsxs)("div",{className:"flex flex-col justify-center items-center p-16 bg-white dark:bg-text rounded-custom shadow-lg text-center",children:[Object(j.jsx)("h1",{className:"uppercase text-text dark:text-gray-50 mb-10 text-4xl font-bold tracking-wider font-serif",children:a?"Gravando":"Gravar"}),t?Object(j.jsx)(j.Fragment,{children:a?Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(f,{}),Object(j.jsxs)("button",{type:"button",className:"bg-button-red text-white uppercase py-3.5 px-12 flex items-center justify-center rounded-custom text-center font-mono transition-opacity duration-300 hover:opacity-75",onClick:n,children:["Parar",Object(j.jsx)("img",{src:k,alt:"Play",className:"ml-2.5"})]})]}):Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("p",{className:"text-text dark:text-gray-50 mb-12",children:["Aperte o bot\xe3o abaixo e inicie uma nova",Object(j.jsx)("br",{}),"grava\xe7\xe3o."]}),Object(j.jsxs)("button",{type:"button",className:"bg-button-green text-white uppercase py-3.5 px-12 flex items-center justify-center rounded-custom text-center font-mono transition-opacity duration-300 hover:opacity-75",onClick:c,children:["Iniciar",Object(j.jsx)("img",{src:y,alt:"Play",className:"ml-2.5"})]})]})}):Object(j.jsx)("p",{className:"text-text dark:text-gray-50 mb-12",children:"O uso do microfone n\xe3o foi autorizado, por favor autorize."}),r&&Object(j.jsx)(v,{})]})}var w=a.p+"static/media/close-red.9e113daa.svg";function R(){var e=Object(s.useContext)(x),t=e.currentPlaying,a=e.stopTheRecord;return Object(j.jsx)("div",{className:"fixed left-0 top-0 bottom-0 right-0 flex justify-center items-center z-10 bg-text bg-opacity-60 dark:bg-black dark:bg-opacity-50",children:Object(j.jsxs)("div",{className:"w-full max-w-md py-10 px-5 bg-white dark:bg-text rounded-custom shadow-lg relative lg:mx-0 mx-4",children:[Object(j.jsxs)("header",{children:[Object(j.jsx)("h3",{className:"uppercase text-text dark:text-gray-50 mb-16 text-2xl font-bold tracking-wider font-serif text-left",children:"Reproduzir"}),Object(j.jsx)("button",{type:"button",className:"absolute right-4 top-4 transition-opacity duration-300 hover:opacity-75",onClick:a,children:Object(j.jsx)("img",{src:w,alt:"Close"})})]}),Object(j.jsx)("main",{className:"flex justify-center items-center",children:Object(j.jsx)("audio",{controls:!0,loop:!0,src:t})})]})})}var S=a.p+"static/media/play.10534052.svg",C=a.p+"static/media/save.9d915a71.svg",P=a.p+"static/media/close.81b2658f.svg";function z(e){var t=e.id,a=e.name,r=e.file,c=Object(s.useContext)(x),n=c.isPlaying,o=c.deleteRecord,i=c.playTheRecord;return Object(j.jsxs)("div",{className:"bg-bg dark:bg-bg-dark rounded-custom shadow-sm w-full mb-4 relative py-4 flex justify-between items-center pl-20 overflow-hidden lg:flex-nowrap flex-wrap",children:[Object(j.jsxs)("div",{className:"absolute left-0 top-0 bg-text dark:bg-gray-400 text-white font-serif text-lg font-bold px-5 h-full flex justify-center items-center",children:[".",String(t).padStart(2,"0")]}),Object(j.jsx)("p",{className:"font-mono text-sm text-text dark:text-gray-50 lg:break-normal break-all",children:a}),Object(j.jsxs)("div",{className:"mr-5 flex",children:[Object(j.jsx)("button",{type:"button",className:"mr-3 transition-transform duration-300 transform hover:scale-125 dark:invert",onClick:function(){i(r)},children:Object(j.jsx)("img",{src:S,alt:"Play"})}),Object(j.jsx)("a",{href:r,download:a,className:"mr-3 transition-transform duration-300 transform hover:scale-125 dark:invert",children:Object(j.jsx)("img",{src:C,alt:"Save"})}),Object(j.jsx)("button",{type:"button",className:"transition-transform duration-300 transform hover:scale-125",onClick:function(){o(t)},children:Object(j.jsx)("img",{src:P,alt:"Delete"})})]}),n&&Object(j.jsx)(R,{})]})}var M=a.p+"static/media/block.cef22957.svg";function T(){var e=Object(s.useContext)(x),t=e.records,a=e.deleteAllRecords,r=t.map((function(e){var t=e.id,a=e.name,r=e.file;return Object(j.jsx)(z,{id:t,name:a,file:r},t)}));return Object(j.jsxs)("div",{className:"py-4 px-5 bg-white dark:bg-text rounded-custom shadow-lg h-full relative",children:[Object(j.jsx)("h3",{className:"uppercase text-text dark:text-gray-50 mb-6 text-xl font-bold tracking-wider font-serif",children:"Grava\xe7\xf5es"}),Object(j.jsx)("div",{className:"lg:max-h-60 max-h-72 overflow-y-auto overflow-x-hidden",children:r.length>0?r:Object(j.jsx)("p",{className:"text-text dark:text-gray-50 font-mono text-sm italic",children:"Nada gravado ainda..."})}),r.length>0&&Object(j.jsx)("button",{type:"button",className:"bg-button-red rounded-custom p-1 absolute right-5 bottom-4 transition-opacity duration-300 hover:opacity-75",title:"Deletar todas grava\xe7\xf5es",onClick:a,children:Object(j.jsx)("img",{src:M,alt:"Delete all"})})]})}var D=a(4),L=a.n(D),_=a.p+"static/media/dark-mode.9f709de4.svg",A=a.p+"static/media/light-mode.6858b826.svg",F=document.querySelector("html");var E=function(){var e=Object(s.useState)(!1),t=Object(d.a)(e,2),a=t[0],r=t[1];return Object(s.useEffect)((function(){L.a.get("color_mode")&&r(!0)}),[]),Object(s.useEffect)((function(){F&&(a?(F.classList.add("dark"),L.a.set("color_mode","dark",{expires:365})):(F.classList.remove("dark"),L.a.remove("color_mode")))}),[a]),Object(j.jsxs)("main",{className:"container mx-auto lg:grid lg:grid-cols-11 lg:gap-x-32 lg:px-0 px-4",children:[Object(j.jsx)("button",{type:"button",className:"lg:fixed lg:right-10 lg:top-10 lg:z-10 lg:mb-0 mb-5 lg:ml-0 ml-auto w-10 h-10 bg-white dark:bg-text rounded-custom shadow flex justify-center items-center border border-black dark:border-white transition-transform duration-500 lg:transform hover:scale-110",onClick:function(){r(!a),F&&(a?(L.a.set("color_mode","dark",{expires:365}),F.classList.add("dark")):(L.a.remove("color_mode"),F.classList.remove("dark")))},children:Object(j.jsx)("img",{src:a?A:_,alt:"Moon",className:"w-6 h-6 dark:invert"})}),Object(j.jsxs)(p,{children:[Object(j.jsx)("section",{className:"lg:col-span-5 lg:mb-0 mb-8",children:Object(j.jsx)(N,{})}),Object(j.jsx)("section",{className:"lg:col-span-6",children:Object(j.jsx)(T,{})})]})]})};i.a.render(Object(j.jsx)(n.a.StrictMode,{children:Object(j.jsx)(E,{})}),document.getElementById("root"))}},[[17,1,2]]]);
//# sourceMappingURL=main.fff60aa4.chunk.js.map